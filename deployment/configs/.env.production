# MAGSASA-CARD Platform - Production Environment Configuration
# AWS Deployment Environment Variables

# Application Configuration
ENVIRONMENT=production
FLASK_ENV=production
FLASK_DEBUG=false
SECRET_KEY=production-secret-key-use-aws-secrets-manager

# Database Configuration (PostgreSQL on AWS RDS)
DATABASE_TYPE=postgresql
DATABASE_URL=postgresql://username:password@host:port/database
DATABASE_SSL_MODE=require
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# API Configuration
ALLOWED_ORIGINS=https://magsasa-card.com,https://app.magsasa-card.com
API_VERSION=2.1.0
API_BASE_URL=https://api.magsasa-card.com

# AI Service Configuration (Use AWS Secrets Manager)
# OPENAI_API_KEY=stored_in_aws_secrets_manager
# GOOGLE_AI_API_KEY=stored_in_aws_secrets_manager

# AWS Configuration
AWS_REGION=ap-southeast-1
AWS_ACCESS_KEY_ID=use_iam_roles_instead
AWS_SECRET_ACCESS_KEY=use_iam_roles_instead

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DESTINATION=cloudwatch
CLOUDWATCH_LOG_GROUP=/aws/lambda/magsasa-card-api

# Performance Configuration
WORKERS=4
TIMEOUT=300
MAX_REQUESTS=10000
MAX_REQUESTS_JITTER=1000
WORKER_CLASS=gevent
WORKER_CONNECTIONS=1000

# Feature Flags
KAANI_INTEGRATION=true
AI_DIAGNOSIS=true
AGSCORE_ASSESSMENT=true
AB_TESTING=true
ADVANCED_ANALYTICS=true
REAL_TIME_MONITORING=true

# Monitoring Configuration
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
REQUEST_LOGGING=true
PERFORMANCE_MONITORING=true

# New Relic Configuration (if using)
# NEW_RELIC_LICENSE_KEY=stored_in_aws_secrets_manager
# NEW_RELIC_APP_NAME=MAGSASA-CARD-Production

# Security Configuration
SSL_REQUIRED=true
CORS_ENABLED=true
SECURITY_HEADERS=true
CSRF_PROTECTION=true

# Cache Configuration (Redis on AWS ElastiCache)
REDIS_URL=redis://magsasa-card-cache.abc123.cache.amazonaws.com:6379/0
CACHE_TTL=3600
SESSION_CACHE_TTL=86400

# Load Balancer Configuration
LOAD_BALANCER_HEALTH_CHECK=/health
LOAD_BALANCER_TIMEOUT=60

# Auto Scaling Configuration
MIN_INSTANCES=2
MAX_INSTANCES=10
TARGET_CPU_UTILIZATION=70
SCALE_UP_COOLDOWN=300
SCALE_DOWN_COOLDOWN=600

# External Service URLs
PAGASA_API_URL=https://api.pagasa.dost.gov.ph
CARD_MRI_API_URL=https://api.card-mri.org
NOTIFICATION_SERVICE_URL=https://notifications.magsasa-card.com

# Notification Configuration
NOTIFICATION_EMAIL=admin@magsasa-card.com
SLACK_WEBHOOK_URL=stored_in_aws_secrets_manager
SMS_SERVICE_URL=https://sms.magsasa-card.com

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_FREQUENCY=hourly
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=magsasa-card-backups
BACKUP_ENCRYPTION=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=3600
RATE_LIMIT_STORAGE=redis

# CDN Configuration
CDN_ENABLED=true
CDN_URL=https://cdn.magsasa-card.com
STATIC_ASSETS_URL=https://assets.magsasa-card.com

# Database Migration Configuration
MIGRATION_ENABLED=true
MIGRATION_BACKUP_BEFORE=true
MIGRATION_ROLLBACK_ENABLED=true

# Compliance and Audit
AUDIT_LOGGING=true
COMPLIANCE_MODE=bsp
DATA_RETENTION_DAYS=2555  # 7 years for BSP compliance
GDPR_COMPLIANCE=true

# Development/Testing Configuration
TESTING_MODE=false
MOCK_AI_RESPONSES=false
DEBUG_TOOLBAR=false

# Deployment Metadata
DEPLOYMENT_TIMESTAMP=2025-09-28T12:00:00Z
DEPLOYMENT_VERSION=2.1.0
DEPLOYMENT_PLATFORM=aws
DEPLOYMENT_REGION=ap-southeast-1

# Container Configuration (if using ECS/EKS)
CONTAINER_MEMORY=2048
CONTAINER_CPU=1024
CONTAINER_PORT=5000

# Lambda Configuration (if using serverless)
LAMBDA_TIMEOUT=300
LAMBDA_MEMORY=1024
LAMBDA_RUNTIME=python3.11

# Notes:
# 1. Use AWS Secrets Manager for sensitive values
# 2. Configure IAM roles instead of access keys
# 3. Enable CloudWatch for logging and monitoring
# 4. Use RDS for PostgreSQL database
# 5. Configure Auto Scaling for high availability
# 6. Enable backup and disaster recovery
# 7. Implement proper security headers and CORS
# 8. Use ElastiCache for Redis caching
# 9. Configure CloudFront for CDN
# 10. Enable compliance logging for BSP requirements
